<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Успеваемость</title>
    <link rel="stylesheet" href="../../../src/static/css/base.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
<div class="parent">
    <div class="container">
        <div class="head">
        <p>Успеваемость</p>
    </div>
        <table id="mytable">
            <thead>
            <tr>
                <th>Дата урока</th>
                <th>Присутствие</th>
                <th>Оценка за урок</th>
                <th>Ученик</th>
                <th>Учебный предмет</th>
                <th>Класс</th>
                <th><img src="../../../src/static/img/More.svg" alt=""></th>
            </tr>
            </thead>
            <tbody>
            {% for el in marks %}
                <form method="post">{% csrf_token %}
                    <tr class="success">
                        <td>{{ el.lesson_date }}</td>
                        <td>
                            <button class="o">{{ el.is_appeared }}</button>
                        </td>
                        <td>
                            <button class="i">{{ el.student_mark }}</button>
                        </td>
                        <td>{{ el.student_id_id }}</td>
                        <td>{{ el.subject_id_id }}</td>
                        <td>{{ el.class_id_id }}</td>
                        <td>
                            <div class="dropdown"><img src="../../../src/static/img/More.svg" alt="">
                                <div class="dropdown-content">
                                    <a href="{% url "all_shit/" ap="delete" member_id="{{ el.id }}"%}">Удалить</a>
                                    <a href="{% url "all_shit/" ap="change" member_id="{{ el.id }}"%}">Изменить</a>
                                </div>
                            </div>
                        </td>
                    </tr>
                </form>
            {% endfor %}
            </tbody>
        </table>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script>$('#mytable tr td button.i').each(function () {
        var cellValue = $(this).html();
        if (!isNaN(parseFloat(cellValue))) {
            if (cellValue == 2) {
                $(this).css('font-family', 'Inter');
                $(this).css('font-weight', '500');
                $(this).css('border', 'none');
                $(this).css('padding', '4px 15px 4px 15px');
                $(this).css('background-color', '#FFE0E0');
                $(this).css('color', '#D30000');
                $(this).css('border-radius', '10px');
            }

            if (cellValue == 3) {
                $(this).css('font-family', 'Inter');
                $(this).css('font-weight', '500');
                $(this).css('border', 'none');
                $(this).css('padding', '4px 15px 4px 15px');
                $(this).css('background-color', '#FFECCC');
                $(this).css('color', '#965E00');
                $(this).css('border-radius', '10px');
            }

            if (cellValue == 4) {
                $(this).css('font-family', 'Inter');
                $(this).css('font-weight', '500');
                $(this).css('border', 'none');
                $(this).css('padding', '4px 15px 4px 15px');
                $(this).css('background-color', '#CDFFCD');
                $(this).css('color', '#007F00');
                $(this).css('border-radius', '10px');
            }

            if (cellValue == 5) {
                $(this).css('font-family', 'Inter');
                $(this).css('font-weight', '500');
                $(this).css('border', 'none');
                $(this).css('padding', '4px 15px 4px 15px');
                $(this).css('background-color', '#CDFFCD');
                $(this).css('color', '#007F00');
                $(this).css('border-radius', '10px');
            }
        }
    });
    </script>
    <script>$('#mytable tr td button.o').each(function () {
        var cellVal = $(this).html();
        {
            if (cellVal == "True") {
                $(this).css('font-family', 'Inter');
                $(this).css('font-weight', '500');
                $(this).css('border', 'none');
                $(this).css('padding', '4px 10px 4px 10px');
                $(this).css('background-color', '#E6E6F2');
                $(this).css('color', '#4A4AFF');
                $(this).css('border-radius', '10px');
            }

            if (cellVal == "False") {
                $(this).css('font-family', 'Inter');
                $(this).css('font-weight', '500');
                $(this).css('border', 'none');
                $(this).css('padding', '4px 10px 4px 10px');
                $(this).css('background-color', '#F2F0F9');
                $(this).css('color', '#6E6893');
                $(this).css('border-radius', '10px');
            }
        }
    });
    </script>
</div>
</body>
</html>